<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="hotstar.css" />

    <title>Hotstar</title>
  </head>

  <body>
    <div id="container">
      <div id="box1">
        <div>
          <img
            src="https://imgs.search.brave.com/yIi0DEA368sH8xiwaYknAhylYVs6rd9B4SBoMCxd06Y/rs:fit:474:225:1/g:ce/aHR0cHM6Ly90c2Uz/Lm1tLmJpbmcubmV0/L3RoP2lkPU9JUC5m/MEIwRm9QU0JkVXY2/dDlMd2xYVkJ3SGFI/YSZwaWQ9QXBp"
            alt=""
            id="option"
          />
          <img
            src="https://secure-media.hotstarext.com/web-assets/prod/images/brand-logos/disney-hotstar-logo-dark.svg"
            alt=""
          />
        </div>

        <div>
          <input
            type="text"
            oninput="searchMovies()"
            id="query"
            placeholder="Search"
          />

          <img
            id="lens"
            src="https://cdn0.iconfinder.com/data/icons/multimedia-solid-30px/30/search-512.png"
            alt=""
          />
        </div>
      </div>

      <div id="movies"></div>

    </div>

<!-- ================================ -->
      <!-- <div id="response"></div>


       <div id="show">
      <div id="b1"></div>
        <div id="b2">
            <table class="table">
                <tr>
                  <th>Movie</th>
                  <td id="a"></td>
                </tr>
                <tr>
                  <th>Star Cast</th>
                  <td id="b"></td>
                </tr>
                <tr>
                  <th>Rating</th>
                  <td id="c"></td>
                </tr>
                <tr>
                  <th>Discription</th>
                  <td id="d">
                   
                  </td>
                </tr>
                <tr>
                  <th>Year</th>
                  <td id="e">
                 
                  </td>
                </tr>
              </table>
        </div>
    </div> -->

<!-- ========================================== -->
      
   
  
  </body>
</html>
<script>


 
const arr =  [];
  const movie_div = document.getElementById("movies");
 
  async function searchMovies() {
    try {
      const query = document.getElementById("query").value;

      const res = await fetch(
        `https://www.omdbapi.com/?apikey=5ed1c4af&s=${query}`
      );

      const data = await res.json();

      let movies1 = data.Search;

      // console.log("data:-", movies1);
      appendMovies(movies1);
    } catch (err) {
      console.log(err);
    }
  }

  function appendMovies(movies1) {
    if (movies1 === undefined) {
      return false;
    }
    movie_div.innerHTML = "";

    movies1.map(function (elem) {

      let box = document.createElement("div");
      box.addEventListener("click",function(){
      addMovies(movies1)
      
});

      let image = document.createElement("img");
      image.src = elem.Poster;
      image.setAttribute("id", "searchimg");

      let box2 = document.createElement("div");

      let p = document.createElement("p");
      p.innerText = elem.Title;
      

      let h4 = document.createElement("h5");
      h4.innerText = elem.Year;
      h4.setAttribute("class", "text");

      let h5 = document.createElement("h5");
      h5.innerText = `Type:${elem.Type}`;
      h5.setAttribute("class", "text");

      let idmb = document.createElement("h5");
      idmb.innerText = `IDMB:${elem.imdbID}`;
      idmb.setAttribute("class", "text");   


      box2.append(p, h4, h5,idmb);
      box.append(image, box2);

      movie_div.append(box);
    });
  }

 
 
function addMovies(movies1,index){
    
  arr.push(movies1[0]);

  localStorage.setItem("details",JSON.stringify(arr));

window.location.href="detail.html"


}




</script>
